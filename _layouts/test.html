<!DOCTYPE html>
<html lang="{{ site.lang | default: "ja" }}">
  <head>
    <meta charset='utf-8'>
    <meta name="robots" content="noindex">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

{% seo %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

<link href="./jPlayer-2.9.2/dist/skin/blue.monday/css/jplayer.blue.monday.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="./jPlayer-2.9.2/lib/jquery.min.js"></script>
<script type="text/javascript" src="./jPlayer-2.9.2/dist/jplayer/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="./jPlayer-2.9.2/dist/add-on/jplayer.playlist.min.js"></script>
    
    <style>
        {% if page.oto %}
      .main-content {
         padding-top: 9em;
      }
        {% endif %}
        {% if page.iro %}
      body {
        background-color: #{{ page.iro }};
        background-image: linear-gradient(-90deg, #{{ page.gra }}, #{{ page.iro }});
      }
      .main-content h1,
      .main-content h2,
      .main-content h3,
      .main-content h4,
      .main-content h5,
      .main-content h6{
        color: #{{ page.iro }};
      }
        {% endif %}
        {% if page.background %}
      body {
        background-image: url('media/{{ page.background }}');
        background-repeat: no-repeat;
        background-attachment: fixed;
      }
        {% endif %}
    </style>
  </head>
  <body>
   <div id="passage-text" class="passage">
    <section class="main-content">
      {% if site.github.is_project_page %}
        <a href="{{ site.github.repository_url }}" class="btn">View on GitHub</a>
      {% endif %}
      {% if site.show_downloads %}
        <a href="{{ site.github.zip_url }}" class="btn">Download .zip</a>
        <a href="{{ site.github.tar_url }}" class="btn">Download .tar.gz</a>
      {% endif %}

      {{ content }}

      <footer class="site-footer">
       {% if page.navigation %}
<div class="nav">
         {% if page.previous %}
<span class="pglink"><a href="{{ page.previous.url }}">前号</a></span>
         {% endif %}
         {% if page.next %}
<span class="pglink"><a href="{{ page.next.url }}">次号</a></span>
         {% endif %}
</div> 
       {% endif %}
       <div class="site-footer-owner"><a href="{{ site.url }}">音訳グループ やまびこ</a></div>
       {% if site.github.is_project_page %}
          <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
       {% endif %}
         <span class="site-footer-credits">このページは<a href="https://pages.github.com">GitHub Pages</a>によって生成されました。</span>
       {% if page.imagefrom %}
	  <div class="site-footer-credits">背景画像： <a href="{{ page.imagefromurl }}">{{ page.imagefrom }}</a></div>
        {% endif %}
        {% if page.oto %}
          <div class="site-footer-credits">このページの読み上げ機能に使っているJavaScriptについて：<br />
	    The read-along feature is powered by <a href="https://github.com/westonruter/html5-audio-read-along">the read-along code</a> created by <a href="http://westonruter.github.com/">Weston Ruter</a>, licensed <a href="http://www.opensource.org/licenses/MIT" rel="license">MIT</a>/<a href="http://www.gnu.org/licenses/gpl.html" rel="license">GPL</a>.</div>
        {% endif %}
      </footer>
    </section>
   </div>
        {% if page.oto %}
	<div class="controller">
            <p class="loading">
                <em><img src="media/loader.gif" alt="Initializing audio"> Loading audio…</em>
            </p>

            <p class="passage-audio" hidden>
                <audio id="passage-audio" class="passage" controls autoplay>
                    <source src="media/{{ page.oto }}.mp3" type="audio/mp3">
                    <source src="media/{{ page.oto }}.ogg" type="audio/ogg">
                    <source src="media/{{ page.oto }}.wav" type="audio/wav">
<!--jplayer for old browser-->
<div id="jquery_jplayer_1" class="jp-jplayer"></div>
<div id="jp_container_1" class="jp-audio" role="application" aria-label="media player" style="margin: 0 auto; max-width: 100% !important;">
	<div class="jp-type-playlist">
		<div class="jp-gui jp-interface">
			<div class="jp-controls">
				<button class="jp-play" role="button" tabindex="0">停止・再生</button>
			</div>
			<div class="jp-progress">
				<div class="jp-seek-bar">
					<div class="jp-play-bar"></div>
				</div>
			</div>
			<div class="jp-time-holder">
				<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
				<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
			</div>
		</div>
		<div class="jp-no-solution">
			<span>更新が必要です。</span>
			音を聞くには、ブラウザか<a href="http://get.adobe.com/flashplayer/" target="_blank">フラッシュ・プラグイン</a>をアップデートしてください。
		</div>
	</div>
</div>
<script type="text/javascript">
//<![CDATA[
$(document).ready(function(){

	new jPlayerPlaylist({
		jPlayer: "#jquery_jplayer_1",
		cssSelectorAncestor: "#jp_container_1"
	}, [
		{
			title:"読み上げ音声",
			mp3:"./media/{{ page.oto }}.mp3",
			oga:"./media/{{ page.oto }}.ogg"
		}
	], {
		playlistOptions: {
 		   autoPlay: true
    		},
		swfPath: "./jPlayer-2.9.2/dist/jplayer",
		supplied: "oga, mp3",
		wmode: "window",
		useStateClassSkin: true,
		autoBlur: false,
		smoothPlayBar: true,
		keyEnabled: true
	});
$("#jquery_jplayer_1").jPlayer("volume", 1);
});
//]]>
</script>
<!--end jplayer for old browser-->
                </audio>
            </p>
            <p class="passage-audio-unavailable" hidden>
                <em class="error"><strong>残念！</strong> お使いのブラウザはMP3やOggの形式の音声に対応していないため、読み上げ音声を再生できません。</em>
            </p>

            <p class="playback-rate" hidden title="Note that increaseing the reading rate will decrease accuracy of word highlights">
                <label for="playback-rate">読み上げの速さ:</label>
                <input id="playback-rate" type="range" min="0.5" max="2.0" value="1.0" step="0.1" disabled onchange='this.nextElementSibling.textContent = String(Math.round(this.valueAsNumber * 10) / 10) + "\u00D7";'>
                <output>1&times;</output>
            </p>
            <p class="playback-rate-unavailable" hidden>
                <em>(お使いのブラウザは <code>HTMLMediaElement.playbackRate</code> に対応していないようです。そのため、読み上げの速さを変えることができません。)</em>
            </p>
            <p class="autofocus-current-word" hidden>
                <input type="checkbox" id="autofocus-current-word"><!--make autofocus unchecked for avoiding conflict with users' TTS-->
                <label for="autofocus-current-word">テキスト表示範囲を自動的に移動</label>
            </p>

            <noscript>
                <p class="error"><em><strong>お知らせ:</strong> このページの読み上げ機能 HTML5 read-along を利用するには、 JavaScript を有効にしておく必要があります。</em></p>
            </noscript>
	    <div style="position: absolute; left: auto; right: 1em; bottom: 1em; font-size: small; background: rgba(255, 255, 255, .90);"><a href="/p{{ page.url }}">印刷用ページ</a></div>

        </div>
        {% endif %}

    {% if site.google_analytics %}
      <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '{{ site.google_analytics }}', 'auto');
        ga('send', 'pageview');
      </script>
    {% endif %}
        <script src="js/read-along.js"></script>
        <script src="js/main.js"></script>
  </body>
</html>

